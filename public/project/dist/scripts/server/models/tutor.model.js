var mongoose=require("mongoose"),TutorSchema=require("./tutor.schema.server.js")(),Tutor=mongoose.model("Tutor_p",TutorSchema);module.exports=function(){function getAllTutors(){return Tutor.find().populate("userId","firstName").exec()}function getTutorFromUserId(userId){return Tutor.findOne({userId:userId}).populate("userId","firstName").exec()}function getSubjectsForTutor(tutorId){return Tutor.findById(tutorId,"subjects").exec()}function updateTutorById(tutorId,tutor){return Tutor.findByIdAndUpdate(tutorId,tutor,{"new":!0}).exec()}function createTutorWithUser(userId,tutor){return tutor.userId=userId,Tutor.create(tutor)}var _API={getAllTutors:getAllTutors,getTutorFromUserId:getTutorFromUserId,getSubjectsForTutor:getSubjectsForTutor,updateTutorById:updateTutorById,createTutorWithUser:createTutorWithUser};return _API};