"use strict";angular.module("TutorConnect").controller("ChartCtrl",function($rootScope,ReportService,_){function handleResponse(resp){200===resp.status&&(vm.my.reports=resp.data,vm.labels=_.pluck(vm.my.reports,"createdAt"),vm.data=_.pluck(vm.my.reports,"rating"),vm.line={labels:vm.labels,series:[vm.my.firstName],data:[vm.data],onClick:function(points,evt){console.log(points,evt)}})}var vm=this;vm.my=$rootScope.currentUser,vm.isTutor="tutor"===vm.my.roles[0],vm.my.reports=[],vm.line={},vm.isTutor?ReportService.getAllReportsForTutor(vm.my._id).then(handleResponse):ReportService.getAllReportsForStudent(vm.my._id).then(handleResponse)});